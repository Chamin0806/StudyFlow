<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<head>
    <title>홈</title>
</head>

<body>
<section layout:fragment="content">

    <div th:if="${taskId == null}">
        <form action="/upload" method="post" enctype="multipart/form-data">
            <input type="file" name="file" accept="application/pdf" required><br><br>
            시작 페이지: <input type="number" name="startPage" min="1" required><br><br>
            끝 페이지: <input type="number" name="endPage" min="1" required><br><br>
            <button type="submit">업로드 및 분석 시작</button>
        </form>

        <div th:if="${message}">
            <p th:text="${message}" style="color: red;"></p>
        </div>
    </div>

    <div th:if="${taskId}">
        <h2>진행 상황</h2>
        <progress id="loader" value="0" max="100"></progress>
        <div id="progressText">분석 대기 중...</div>
    </div>

    <div id="result-box"></div>

</section>
</body>
</html>
